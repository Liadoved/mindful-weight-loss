{% extends "base.html" %}

{% block content %}
<div class="container quiz-results">
    <h2>תוצאות השאלון</h2>
    
    <div class="results-container">
        <div class="eating-types">
            <table class="table">
                <thead>
                    <tr>
                        <th>סוג אכלנית</th>
                        <th>ניקוד</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr {% if emotional_score > compulsive_score %}class="primary-type"{% endif %}>
                        <td>אכלנית רגשית</td>
                        <td>{{ emotional_score }}</td>
                        <td>{% if emotional_score > compulsive_score %}<span class="badge">סוג עיקרי</span>{% endif %}</td>
                    </tr>
                    <tr {% if compulsive_score > emotional_score %}class="primary-type"{% endif %}>
                        <td>אכלנית כפייתית</td>
                        <td>{{ compulsive_score }}</td>
                        <td>{% if compulsive_score > emotional_score %}<span class="badge">סוג עיקרי</span>{% endif %}</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="type-explanation">
            <h3>הסבר על הניקוד שלך</h3>
            {% if emotional_score > compulsive_score %}
                <p>התוצאות מראות שאת בעיקר <strong>אכלנית רגשית</strong>.</p>
                <p>אכלנית רגשית היא מי שאוכלת בתגובה לרגשות ומצבי רוח. האכילה משמשת כמנגנון התמודדות עם רגשות כמו עצב, חרדה, בדידות או שעמום.</p>
                <div class="characteristics">
                    <h4>מאפיינים נפוצים:</h4>
                    <ul>
                        <li>אכילה בתגובה למצבי רוח ורגשות</li>
                        <li>קושי להבחין בין רעב פיזי לרגשי</li>
                        <li>נטייה לאכול כשעצובים או מוטרדים</li>
                        <li>שימוש באוכל כנחמה</li>
                    </ul>
                </div>
            {% elif compulsive_score > emotional_score %}
                <p>התוצאות מראות שאת בעיקר <strong>אכלנית כפייתית</strong>.</p>
                <p>אכלנית כפייתית היא מי שמרגישה חוסר שליטה באכילה ונוטה לאכול כמויות גדולות של אוכל בפרק זמן קצר.</p>
                <div class="characteristics">
                    <h4>מאפיינים נפוצים:</h4>
                    <ul>
                        <li>תחושת אובדן שליטה באכילה</li>
                        <li>אכילה מהירה של כמויות גדולות</li>
                        <li>אכילה עד לתחושת אי נוחות פיזית</li>
                        <li>אכילה לבד מתוך בושה</li>
                    </ul>
                </div>
            {% else %}
                <p>התוצאות שלך מאוזנות, מה שמראה שאת <strong>אכלנית מאוזנת</strong>.</p>
                <p>זה אומר שאת מתמודדת עם שני הסוגים של דפוסי האכילה במידה דומה.</p>
                <div class="characteristics">
                    <h4>מאפיינים נפוצים:</h4>
                    <ul>
                        <li>שילוב של אכילה רגשית וכפייתית</li>
                        <li>יכולת להתמודד עם שני סוגי האתגרים</li>
                        <li>גמישות בהתמודדות עם אכילה</li>
                    </ul>
                </div>
            {% endif %}
        </div>

        <div class="next-steps">
            <h3>מה הלאה?</h3>
            <p>הבנת סוג האכלנית שלך היא צעד חשוב בדרך לשינוי. בקורס תלמדי כלים מותאמים אישית להתמודדות עם דפוסי האכילה שלך.</p>
            <a href="{{ url_for('course') }}" class="btn btn-primary">המשיכי לקורס</a>
        </div>
    </div>
</div>

<style>
    .quiz-results {
        max-width: 800px;
        margin: 40px auto;
        padding: 20px;
    }

    .results-container {
        background: white;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .eating-types {
        margin-bottom: 40px;
    }

    .table {
        width: 100%;
        margin-bottom: 0;
    }

    .table th {
        background-color: #f8f9fa;
        border-bottom: 2px solid #dee2e6;
        padding: 12px;
    }

    .table td {
        padding: 12px;
        vertical-align: middle;
    }

    .primary-type {
        background-color: #f0f7ff;
    }

    .badge {
        background-color: #8a5dc7;
        color: white;
        padding: 5px 10px;
        border-radius: 15px;
        font-size: 0.8em;
    }

    .type-explanation {
        margin: 40px 0;
        padding: 20px;
        background: #f8f9fa;
        border-radius: 8px;
    }

    .characteristics {
        margin-top: 20px;
    }

    .characteristics ul {
        padding-right: 20px;
    }

    .characteristics li {
        margin-bottom: 10px;
        color: #666;
    }

    .next-steps {
        text-align: center;
        margin-top: 40px;
        padding-top: 20px;
        border-top: 1px solid #dee2e6;
    }

    .btn-primary {
        background-color: #8a5dc7;
        border-color: #8a5dc7;
        padding: 10px 30px;
        font-size: 1.1em;
        margin-top: 20px;
    }

    .btn-primary:hover {
        background-color: #7a4db7;
        border-color: #7a4db7;
    }

    @media (max-width: 768px) {
        .quiz-results {
            padding: 10px;
        }

        .results-container {
            padding: 15px;
        }

        .table th, .table td {
            padding: 8px;
        }
    }
</style>
{% endblock %}
